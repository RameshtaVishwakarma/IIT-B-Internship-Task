<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="uft-8" />
    <title>IIT B Assignment - Rameshta Vishwakarma</title>
  </head>
  <body>
    <canvas
      id="canvas"
      width="800"
      height="100"
      style="border: 5px solid #d3d3d3"
    ></canvas>
    <form id="myForm">
      <label>Number of data points:</label><br />
      <input type="number" id="Point" name="" value="" /><br />
      <label>Speed:</label><br />
      <input type="number" id="speed" name="" speed="" /><br />
      <button type="button" name="button" onclick="change()">Change</button>
    </form>
  </body>
  <script>
    async function change() {
      var c = document.getElementById("canvas");
      var ctx = c.getContext("2d");
      ctx.clearRect(0, 0, 800, 150);
      ctx.beginPath();
      var point = document.getElementById("Point").value;
      var speed = document.getElementById("speed").value;
      console.log(point);
      console.log(speed);
      var global_x = 0;
      var global_y = 0;
      var x = 0;
      var y = 0;
      for (let i = 0; i < point; i++) {
        x = Math.floor(Math.random() * 10);
        y = Math.floor(Math.random() * 100);
        console.log(x, y);
        ctx.moveTo(global_x, global_y);
        ctx.lineTo(global_x + x, y);
        global_x = global_x + x;
        global_y = y;
        let delayres = await delay(speed * 10);
        ctx.stroke();
      }
      function delay(delayInms) {
        return new Promise((resolve) => {
          setTimeout(() => {
            resolve(2);
          }, delayInms);
        });
      }
    }
  </script>
  <footer>
    <p>Author: Rameshta Vishwakarma<br /></p>
    <p>
      Internship Task - IIT@B<br />
      <a href="mailto:vinayakvishwakarma97@gmail.com"
        >vinayakvishwakarma97@gmail.com</a
      >
    </p>
  </footer>
</html>
